<div role="main">
  <span id="maincontent"></span>
  <h2>1.3. E/S Básica y depuración</h2>
  <div id="intro" class="box py-3 generalbox">
    <h3>Depuración en Javascript</h3>
    <div class="box py-3 contents">
      <div class="no-overflow">
        <p dir="ltr" style="text-align: left"></p>
        <p></p>
        <p dir="ltr" style="text-align: left"></p>
        <p>
          <span style="font-size: 0.9375rem"
            >La depuración de un código consiste en comprobar el modo en que se
            ejecuta para detectar el origen de errores y ver como
            resolverlos.</span
          ><br />
        </p>

        <p>Los errores pueden ser de dos tipos:</p>

        <p></p>
        <ul>
          <li>
            <strong><em>Errores sintácticos</em></strong> à Son errores que
            impiden que el código se ejecute. Estos errores se producen cuando
            se cometen errores al escribir el código.
          </li>
          <li>
            <strong><em>Errores lógicos</em></strong> à Son errores que hacen
            que el código no realice las operaciones deseadas a pesar de
            ejecutarse. Estos errores son producidos por fallos en el diseño el
            código que no al escribirlo.
          </li>
        </ul>
        <p></p>

        <p>
          La depuración debe realizarse en el propio navegador. La mayoría de
          los navegadores actuales incluyen herramientas que muestran errores y
          permiten depurar el código Javascript. Es muy importante conocer estas
          herramientas ya que por defecto los navegadores no muestran los
          errores de Javascript al usuario, sólo dejan de ejecutarlo.
        </p>

        <h3>Detección de errores sintácticos.</h3>

        <p>
          <strong
            ><em><br />Ejemplo:</em></strong
          >
          La siguiente página consta de un código Javascript con un error
          deliberado en el que se define una función <em>saludar()</em> pero se
          invoca a la función <em>saludo()</em>. Este error al invocar a la
          función es un ejemplo de error sintáctico:
        </p>

        <pre
          style="color: #000000; background: #ffffff"
        ><span style="color:#808030; ">&lt;</span><span style="color:#808030; ">!</span>DOCTYPE html<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span>html<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span>head<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span>meta http<span style="color:#808030; ">-</span>equiv<span style="color:#808030; ">=</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Content-Type</span><span style="color:#800000; ">"</span> content<span style="color:#808030; ">=</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">text/html; charset=utf-8</span><span style="color:#800000; ">"</span><span style="color:#808030; ">/</span><span style="color:#808030; ">&gt;</span>
    <span style="color:#808030; ">&lt;</span>title<span style="color:#808030; ">&gt;</span><span style="color:#808030; ">&lt;</span><span style="color:#808030; ">/</span>title<span style="color:#808030; ">&gt;</span>
	<span style="color:#808030; ">&lt;</span>meta charset<span style="color:#808030; ">=</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">utf-8</span><span style="color:#800000; ">"</span> <span style="color:#808030; ">/</span><span style="color:#808030; ">&gt;</span>
    <span style="color:#808030; ">&lt;</span>script<span style="color:#808030; ">&gt;</span>
        <span style="color:#800000; font-weight:bold; ">function</span> saludar<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            <span style="color:#800000; font-weight:bold; ">alert</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">HOLA</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span> 
        <span style="color:#800080; ">}</span>
        saludo<span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
    <span style="color:#808030; ">&lt;</span><span style="color:#808030; ">/</span>script<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span><span style="color:#808030; ">/</span>head<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span>body<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span><span style="color:#808030; ">/</span>body<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span><span style="color:#808030; ">/</span>html<span style="color:#808030; ">&gt;</span>

</pre>

        <p>
          Si cargamos la página no veremos ningún mensaje ni tampoco mensaje de
          error alguno. <em><u>El código simplemente no se ejecuta.</u></em>
        </p>

        <p>
          <span style="font-size: 0.9375rem"
            >El navegador Chrome ( al igual que otros ) integra una consola para
            desarrolladores que se muestra seleccionando la opción “</span
          ><strong style="font-size: 0.9375rem"
            ><em>Mas Herramientas --&gt;</em></strong
          ><strong style="font-size: 0.9375rem"
            ><em>&nbsp;Herramientas para desarrolladores</em></strong
          ><span style="font-size: 0.9375rem"
            >” en el menú contextual&nbsp; que se muestra al hacer clic en el
            icono &nbsp;situado en el margen derecho de la barra de direcciones,
            o pulsando el atajo de teclado "<strong
              ><em>Control + Shift + i</em></strong
            >"</span
          >
        </p>

        <p>
          Se abre entonces un cuadro provisto de varias pestañas. Los errores de
          ejecución de Javascript pueden consultarse seleccionando la pestaña
          “<em>Console</em>”:
        </p>
        <p style="text-align: center">
          <img
            src="/imagenes/1.3.1.png"
            alt=""
            width="900"
            height="137"
            role="presentation"
            class="img-responsive atto_image_button_text-bottom"
          /><br />
        </p>
        <p style="text-align: center">
          <strong
            ><em
              >Vista de consola mostrando un mensaje de error en el código
              javascript de la página</em
            ></strong
          >
        </p>

        <p>
          Los errores sintácticos se muestran indicando un enlace en la derecha
          que al ser pulsado abre la pestaña <em>Sources</em> mostrando el
          código fuente con la línea de código origen del error destacada:
        </p>
        <p style="text-align: center">
          <img
            src="/imagenes/1.3.2.png"
            alt=""
            width="901"
            height="359"
            role="presentation"
            class="img-responsive atto_image_button_text-bottom"
          /><br />
        </p>

        <p style="text-align: center">
          <strong
            ><em>
              Vista de código fuente indicando línea con error sintáctico</em
            ></strong
          ><strong><em></em></strong>
        </p>

        <h3>Detección de errores lógicos.</h3>

        <p>
          <br />Los errores lógicos no impiden que el código Javascript se
          ejecute, pero ocasionan que no funcione como se esperaba. En este caso
          no veremos ningún error en la consola, por lo que es necesario emplear
          otras técnicas para encontrar el origen del error.
        </p>

        <p>
          <strong><em>Ejemplo:</em></strong> La siguiente página muestra la
          tabla de multiplicar del 5, del 0 al 9 cuando deseamos que lo haga del
          0 al 10. Este es el caso de un error lógico en el que el código se
          ejecuta pero no hace lo que se desea:
        </p>

        <pre
          style="color: #000000; background: #ffffff"
        ><span style="color:#808030; ">&lt;</span><span style="color:#808030; ">!</span>DOCTYPE html<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span>html<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span>head<span style="color:#808030; ">&gt;</span>
    <span style="color:#808030; ">&lt;</span>meta http<span style="color:#808030; ">-</span>equiv<span style="color:#808030; ">=</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Content-Type</span><span style="color:#800000; ">"</span> content<span style="color:#808030; ">=</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">text/html; charset=utf-8</span><span style="color:#800000; ">"</span> <span style="color:#808030; ">/</span><span style="color:#808030; ">&gt;</span>
    <span style="color:#808030; ">&lt;</span>title<span style="color:#808030; ">&gt;</span><span style="color:#808030; ">&lt;</span><span style="color:#808030; ">/</span>title<span style="color:#808030; ">&gt;</span>
    <span style="color:#808030; ">&lt;</span>meta charset<span style="color:#808030; ">=</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">utf-8</span><span style="color:#800000; ">"</span> <span style="color:#808030; ">/</span><span style="color:#808030; ">&gt;</span>
    <span style="color:#808030; ">&lt;</span>script<span style="color:#808030; ">&gt;</span>
        <span style="color:#800000; font-weight:bold; ">var</span> tabla <span style="color:#808030; ">=</span> <span style="color:#008c00; ">5</span><span style="color:#800080; ">;</span>
        <span style="color:#800000; font-weight:bold; ">for</span> <span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">var</span> i <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span> i <span style="color:#808030; ">&lt;</span> <span style="color:#008c00; ">10</span><span style="color:#800080; ">;</span> i<span style="color:#808030; ">++</span><span style="color:#808030; ">)</span> <span style="color:#800080; ">{</span>
            document<span style="color:#808030; ">.</span>write<span style="color:#808030; ">(</span><span style="color:#808030; ">(</span>tabla <span style="color:#808030; ">*</span> i<span style="color:#808030; ">)</span> <span style="color:#808030; ">+</span> <span style="color:#800000; ">"</span><span style="color:#0000e6; ">&lt;br /&gt;</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
        <span style="color:#800080; ">}</span>
    <span style="color:#808030; ">&lt;</span><span style="color:#808030; ">/</span>script<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span><span style="color:#808030; ">/</span>head<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span>body<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span><span style="color:#808030; ">/</span>body<span style="color:#808030; ">&gt;</span>
<span style="color:#808030; ">&lt;</span><span style="color:#808030; ">/</span>html<span style="color:#808030; ">&gt;</span>
</pre>

        <p>
          Para ayudar en la detección del origen de este tipo de errores se
          emplean dos técnicas:
        </p>

        <p></p>
        <ul>
          <li>
            Trazado del código à Esto consiste en situar un punto de ruptura en
            una línea para que la ejecución se pause al alcanzarla. Una vez en
            pausa puede continuarse la ejecución del código línea a línea para
            ver el funcionamiento.
          </li>
          <li>
            <span style="font-size: 0.9375rem"
              >Examen de variables à Esto consiste en comprobar el valor de las
              variables del código según se va trazando el código.</span
            >
          </li>
        </ul>
        <p></p>

        <h4>Inserción de un punto de ruptura</h4>

        <p>
          <br />
          Los puntos de ruptura se sitúan en aquellas líneas en las que queremos
          que se detenga la ejecución para comprobar el valor de las variables y
          comenzar a trazar la ejecución.
        </p>

        <p>
          Para situar un punto de ruptura sólo es necesario hacer clic sobre su
          margen izquierdo. La línea se destaca entonces con un indicador
          azulado. Para eliminar un punto de ruptura basta con hacer clic en el
          marca al margen derecho. En un código pueden ponerse tantos puntos de
          ruptura como se desee:
        </p>

        <p></p>
        <p style="text-align: center">
          <img
            src="/imagenes/1.3.3.png"
            alt=""
            width="900"
            height="300"
            role="presentation"
            class="img-responsive atto_image_button_text-bottom"
            style="font-size: 0.9375rem"
          />
        </p>

        <strong
          ><p style="text-align: center">
            <strong style="font-size: 0.9375rem"
              ><em
                >Código con un punto de ruptura situado en la línea 10</em
              ></strong
            >
          </p>
        </strong>
        <p></p>

        <p>
          Todos los puntos de ruptura presentes en el código se muestran bajo la
          pestaña “<em>Breakpoints</em>” del margen derecho. La casilla de
          verificación permite habilitar o deshabilitar un punto de ruptura para
          evitar que pause la ejecución sin eliminarlo.&nbsp;
          <span style="font-size: 0.9375rem"
            >Una vez situado los puntos de ruptura al recargar la página
            pulsando la tecla ENTER sobre la barra de direcciones, la ejecución
            se detiene al alcanzar el primer punto de ruptura. La línea queda
            entonces resaltada en azul:</span
          >
        </p>

        <p></p>
        <p style="text-align: center">
          <img
            src="/imagenes/1.3.4.png"
            alt=""
            width="500"
            height="240"
            role="presentation"
            style="font-size: 0.9375rem"
            class="img-responsive atto_image_button_text-bottom"
          />
        </p>

        <span
          ><p style="text-align: center">
            <em style="font-weight: bold; font-size: 0.9375rem"
              >Código con ejecución detenida en punto de ruptura</em
            ><br /></p
        ></span>
        <p></p>

        <h4>Examinar variables</h4>

        <p>
          <br />
          El examen de variables consiste en comprobar el valor de las variables
          presentes en el código mientras la ejecución está pausada. Esto puede
          hacerse de dos modos:
        </p>

        <p></p>
        <ul>
          <li>
            Situando el puntero del ratón directamente encima de la variable. Se
            muestra entonces un cuadro flotante indicando el valor:
          </li>
        </ul>
        <p style="text-align: center">
          <img
            src="/imagenes/1.3.5.png"
            alt=""
            width="500"
            height="223"
            role="presentation"
            class="img-responsive atto_image_button_text-bottom"
          /><br />
        </p>
        <p style="text-align: center">
          <strong
            ><em>
              Visual del valor de la variable “i” situando el ratón encima</em
            ></strong
          >
        </p>

        <p></p>
        <ul>
          <li>
            Añadiendo las variables a la pestaña Watch haciendo clic en el botón
            “+” situado en el margen derecho:
          </li>
        </ul>
        <p></p>

        <p></p>
        <p style="text-align: center">
          <img
            src="/imagenes/1.3.6.png"
            alt=""
            width="499"
            height="150"
            role="presentation"
            class="img-responsive atto_image_button_text-bottom"
            style="font-size: 0.9375rem"
          />
        </p>

        <strong
          ><p style="text-align: center">
            <strong style="font-size: 0.9375rem"
              ><em
                >Pestaña de inspección con las variables ‘tabla’ y ‘i’.</em
              ></strong
            >
          </p>
        </strong>
        <p></p>

        <h4>Seguimiento del código</h4>

        <p>
          <br />
          Una vez que la ejecucion está detenida en un punto de ruptura podemos
          seguir el código ejecutándolo línea a línea mediante los botones de la
          barra de herramientas de la parte superior del margen derecho:
        </p>
        <p style="text-align: center">
          <img
            src="/imagenes/1.3.7.png"
            alt=""
            width="500"
            height="208"
            role="presentation"
            class="img-responsive atto_image_button_text-bottom"
          /><br />
        </p>

        <p style="text-align: center"></p>

        <p></p>
        <ul>
          <li>
            <strong
              >Step Over&nbsp;<img
            src="/imagenes/1.3.8.png"
                alt=""
                role="presentation"
              />
              --&gt;</strong
            >&nbsp; Ejecuta la siguiente línea de código.
          </li>
          <li>
            <strong
              >Step Into
              <img
            src="/imagenes/1.3.9.png"
                alt=""
                role="presentation"
              />--&gt;</strong
            >&nbsp;Ejecuta la siguiente línea de código. Si la línea es una
            llamada a una función, se salta a trazar a la primera línea del
            código de la función.
          </li>
          <li>
            <strong
              >Step Out
              <img
            src="/imagenes/1.3.10.png"
                alt=""
                role="presentation"
              />--&gt;</strong
            >&nbsp;à Salta a la línea de código siguiente a la llamada a la
            función actual.
          </li>
          <li>
            <strong
              >Resume
              <img
            src="/imagenes/1.3.11.png"
                alt=""
                role="presentation"
              />--&gt;</strong
            >&nbsp;à Reanuda la ejecución hasta el siguiente punto de ruptura.
          </li>
        </ul>
        <p>
          Al ir ejecutando cada línea del código veremos como la línea actual de
          ejecución va cambiando destacada en azul. Al mismo tiempo puede
          comprobarse como van progresando el valor de las variables de la
          pestaña
          <em>Watches</em>.
        </p>

        <p><strong>Lanzamiento de mensajes a consola</strong></p>

        <p>
          Como mecanismo adicional para verificar la ejecución de Javascript
          también pueden enviarse mensajes a la consola del navegador desde el
          propio código mediante los métodos del objeto de javascript
          <em>console</em>:
        </p>

        <p></p>
        <ul>
          <li>
            <u><strong>console.log( mensaje )</strong></u
            >&nbsp;--&gt; Lanza a la consola el mensaje indicado.
          </li>
        </ul>
        <p></p>

        <pre
          style="color: #000000; background: #ffffff"
        >console<span style="color:#808030; ">.</span><span style="color:#800000; font-weight:bold; ">log</span><span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">mensaje informativo</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
</pre>
        <pre
          style="color: #000000; background: #ffffff"
        ><span style="color:#800080; "><img             src="/imagenes/1.3.12.png" alt="" width="903" height="107" role="presentation" class="img-responsive atto_image_button_text-bottom"><br></span></pre>

        <p style="text-align: right"></p>

        <p></p>
        <ul>
          <li>
            <u><strong>console.error( mensaje )</strong></u
            >&nbsp;--&gt; Lanza a la consola el mensaje de error indicado
            incluyendo además la pila de llamadas que ha recorrido la ejecucion
            para llegar a esa línea de código.
          </li>
        </ul>
        <p></p>

        <pre
          style="color: #000000; background: #ffffff"
        >console<span style="color:#808030; ">.</span>error<span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">Error en sistema</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

</pre>
        <pre
          style="color: #000000; background: #ffffff"
        ><img             src="/imagenes/1.3.13.png" alt="" width="901" height="66" role="presentation" class="img-responsive atto_image_button_text-bottom"><br></pre>

        <p style="text-align: right"></p>

        <p></p>
        <ul>
          <li>
            <strong><u>console.dir( objeto )</u>&nbsp;--&gt;</strong>&nbsp;Lanza
            a la consola una descripción del tipo y valor o valores contenidos
            en la variable, matriz u objeto indicado como argumento.
          </li>
        </ul>

        <pre
          style="color: #000000; background: #ffffff"
        >        <span style="color:#800000; font-weight:bold; ">var</span> datos <span style="color:#808030; ">=</span> <span style="color:#808030; ">[</span><span style="color:#008c00; ">1</span><span style="color:#808030; ">,</span> <span style="color:#008c00; ">2</span><span style="color:#808030; ">,</span> <span style="color:#008c00; ">3</span><span style="color:#808030; ">,</span> <span style="color:#008c00; ">4</span><span style="color:#808030; ">,</span> <span style="color:#008c00; ">5</span><span style="color:#808030; ">,</span> <span style="color:#008c00; ">6</span><span style="color:#808030; ">]</span><span style="color:#800080; ">;</span> 
        <span style="color:#800000; font-weight:bold; ">var</span> obj <span style="color:#808030; ">=</span> <span style="color:#800080; ">{</span>
            nombre<span style="color:#800080; ">:</span> <span style="color:#800000; ">"</span><span style="color:#0000e6; ">nom</span><span style="color:#800000; ">"</span><span style="color:#808030; ">,</span>
            apellido<span style="color:#800080; ">:</span> <span style="color:#800000; ">"</span><span style="color:#0000e6; ">ap</span><span style="color:#800000; ">"</span>
        <span style="color:#800080; ">}</span>
        console<span style="color:#808030; ">.</span>dir<span style="color:#808030; ">(</span>obj<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

</pre>
        <img
          src="/imagenes/1.3.14.png"
          alt=""
          width="900"
          height="301"
          role="presentation"
          class="img-responsive atto_image_button_text-bottom"
        />
        <p></p>

        <p style="text-align: right"></p>

        <p>&nbsp;</p>

        <p>&nbsp;</p>
        <br />
        <p></p>
      </div>
    </div>
    </div>
  </div>
</div>
